function ProgramReport(programId,reportUrl,reportSentText,errorText,reportButtonText,cancelText,reportDialogTitle,reportDialogReason,inappropriateLabel,copyrightLabel,spamLabel,dislikeLabel,statusCode_OK,loggedIn){const INAPPROPRIATE_VALUE="inappropriate",COPYRIGHT_VALUE="copyright infringement",SPAM_VALUE="spam",DISLIKE_VALUE="dislike",CHECKED="checked",SESSION_OLD_REPORT_REASON="oldReportReason"+programId,SESSION_OLD_REPORT_CATEGORY="oldReportCategory"+programId;function reportProgramDialog(error=!1,oldReason="",oldCategory=""){swal({title:reportDialogTitle,html:function(error,oldReason,oldCategory){let errorClass="";error&&(errorClass="text-area-empty");let reasonPlaceholder=reportDialogReason,reason="";""!==oldReason&&(reasonPlaceholder="",reason=oldReason);let checkedInappropriate="",checkedCopyright="",checkedSpam="",checkedDislike="";switch(oldCategory){case INAPPROPRIATE_VALUE:checkedInappropriate=CHECKED;break;case COPYRIGHT_VALUE:checkedCopyright=CHECKED;break;case SPAM_VALUE:checkedSpam=CHECKED;break;case DISLIKE_VALUE:checkedDislike=CHECKED;break;default:checkedInappropriate=CHECKED}return'<div class="text-left"><div class="radio-item"><input type="radio" id="report-inappropriate" name="report-category" value="'+INAPPROPRIATE_VALUE+'" '+checkedInappropriate+'><label for="report-inappropriate">'+inappropriateLabel+'</label></div><div class="radio-item"><input type="radio" id="report-copyright" name="report-category" value="'+COPYRIGHT_VALUE+'" '+checkedCopyright+'><label for="report-copyright">'+copyrightLabel+'</label></div><div class="radio-item"><input type="radio" id="report-spam" name="report-category" value="'+SPAM_VALUE+'" '+checkedSpam+'><label for="report-spam">'+spamLabel+'</label></div><div class="radio-item"><input type="radio" id="report-dislike" name="report-category" value="'+DISLIKE_VALUE+'" '+checkedDislike+'><label for="report-dislike">'+dislikeLabel+'</label></div></div><textarea class="swal2-textarea mt-4 mb-0 '+errorClass+'" id="report-reason" placeholder="'+reasonPlaceholder+'">'+reason+"</textarea>"}(error,oldReason,oldCategory),focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:reportButtonText,cancelButtonText:cancelText,preConfirm:function(){return new Promise(function(resolve){resolve([$("#report-reason").val(),$("input[name=report-category]:checked").val()])})}}).then(function(result){!function(result){let reason=result[0],category=result[1];null===reason||""===reason||null===category?(null===reason&&(reason=""),null===category&&(category=""),reportProgramDialog(!0,reason,category)):function(reason,category){$.get(reportUrl,{program:programId,category:category,note:reason}).success(function(data){data.statusCode===statusCode_OK?swal({text:reportSentText,type:"success",confirmButtonClass:"btn btn-success"}).then(function(){window.location.href="/"}):swal({title:errorText,type:"error"})}).fail(function(XMLHttpRequest,textStatus,errorThrown){swal({title:errorText,text:errorThrown,type:"error"})})}(reason,category)}(result)}).catch(swal.noop)}$("#report-program-button").click(function(){if(!loggedIn)return void(window.location.href="/login");let oldReportReason=sessionStorage.getItem(SESSION_OLD_REPORT_REASON);null===oldReportReason&&(oldReportReason="");let oldReportCategory=sessionStorage.getItem(SESSION_OLD_REPORT_CATEGORY);null===oldReportCategory&&(oldReportCategory=""),reportProgramDialog(!1,oldReportReason,oldReportCategory)}),$(document).on("keyup","#report-reason",function(){sessionStorage.setItem(SESSION_OLD_REPORT_REASON,$("#report-reason").val())}),$(document).on("change","#report-reason",function(){sessionStorage.setItem(SESSION_OLD_REPORT_REASON,$("#report-reason").val())}),$(document).on("change","input[name=report-category]",function(){sessionStorage.setItem(SESSION_OLD_REPORT_CATEGORY,$("input[name=report-category]:checked").val())})}