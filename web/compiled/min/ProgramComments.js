function ProgramComments(programId,visibleComments,showStep,minAmountOfVisibleComments,totalAmountOfComments,cancel,deleteIt,reportIt,areYouSure,noWayOfReturn,deleteConfirmation,reportConfirmation,popUpCommentReportedTitle,popUpCommentReportedText,popUpDeletedTitle,popUpDeletedText,noAdminRightsMessage,defaultErrorMessage,statusCode_OK,statusCode_NOT_LOGGED_IN,statusCode_NO_ADMIN_RIGHTS){let amountOfVisibleComments;function deleteComment(commentId){$.ajax({url:"../deleteComment",type:"get",data:{ProgramId:programId,CommentId:commentId},success:function(data){data===statusCode_NOT_LOGGED_IN?redirectToLogin():data===statusCode_NO_ADMIN_RIGHTS?swal(noAdminRightsMessage):(showSuccessPopUp(popUpDeletedTitle,popUpDeletedText),$("#comment-"+commentId).remove())},error:function(){swal(defaultErrorMessage)}})}function reportComment(commentId){$.ajax({url:"../reportComment",type:"get",data:{ProgramId:programId,CommentId:commentId},success:function(data){data===statusCode_NOT_LOGGED_IN?redirectToLogin():showSuccessPopUp(popUpCommentReportedTitle,popUpCommentReportedText)},error:function(){swal(defaultErrorMessage)}})}function askForConfirmation(continueWithAction,commentId,text,okayText){swal({title:areYouSure,html:text+"<br><br>"+noWayOfReturn,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:okayText,cancelButtonText:cancel}).then(()=>{continueWithAction(commentId)})}function showSuccessPopUp(title,text){swal({title:title,text:text,type:"success",confirmButtonClass:"btn btn-success"})}function redirectToLogin(){window.location.href="../login"}function updateButtonVisibility(){amountOfVisibleComments>minAmountOfVisibleComments?$("#show-less-comments-button").show():$("#show-less-comments-button").hide(),amountOfVisibleComments<totalAmountOfComments?$("#show-more-comments-button").show():$("#show-more-comments-button").hide()}$(function(){null==(amountOfVisibleComments=JSON.parse(window.sessionStorage.getItem("visibleComments")))||amountOfVisibleComments<minAmountOfVisibleComments?amountOfVisibleComments=minAmountOfVisibleComments:amountOfVisibleComments>totalAmountOfComments&&(amountOfVisibleComments=totalAmountOfComments),console.log("V: "+amountOfVisibleComments),$(".single-comment").each(function(index,el){index<amountOfVisibleComments&&$(el).show()}),updateButtonVisibility(),$(".icon-button").hover(function(){$(this).addClass("fa-lg")},function(){$(this).removeClass("fa-lg")})}),$(document).on("click","#comment-post-button",function(){let msg=$("#comment-message").val();0!==msg.length&&$.ajax({url:"../comment",type:"post",data:{Message:msg,ProgramId:programId},success:function(data){data===statusCode_NOT_LOGGED_IN?redirectToLogin():($("#comments-wrapper").load(" #comments-wrapper"),$("#comment-message").val(""),updateButtonVisibility())},error:function(){swal(defaultErrorMessage)}})}),$(document).on("click",".comment-delete-button",function(){askForConfirmation(deleteComment,$(this).attr("id").substring("comment-delete-button-".length),deleteConfirmation,deleteIt)}),$(document).on("click",".comment-report-button",function(){askForConfirmation(reportComment,$(this).attr("id").substring("comment-delete-button-".length),reportConfirmation,reportIt)}),$(document).on("click","#show-more-comments-button",function(){amountOfVisibleComments=Math.min(amountOfVisibleComments+showStep,totalAmountOfComments),window.sessionStorage.setItem("visibleComments",JSON.stringify(amountOfVisibleComments)),$(".single-comment").each(function(index,el){index>=amountOfVisibleComments-showStep&&index<amountOfVisibleComments&&index<totalAmountOfComments&&$(el).show()}),amountOfVisibleComments>minAmountOfVisibleComments&&$("#show-less-comments-button").show(),amountOfVisibleComments>=totalAmountOfComments&&$(this).hide()}),$(document).on("click","#show-less-comments-button",function(){console.log("show less"),amountOfVisibleComments=Math.max(amountOfVisibleComments-showStep,minAmountOfVisibleComments),window.sessionStorage.setItem("visibleComments",JSON.stringify(amountOfVisibleComments)),$(".single-comment").each(function(index,el){index<amountOfVisibleComments+showStep&&index>=amountOfVisibleComments&&index>=minAmountOfVisibleComments&&$(el).hide()}),amountOfVisibleComments<=minAmountOfVisibleComments&&$(this).hide(),amountOfVisibleComments<totalAmountOfComments&&$("#show-more-comments-button").show()})}